@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@using Components

<main>
    <div class="wrapper w-full max-w-[500px] mx-auto">
        <div class="z-[1000] fixed top-0 w-full max-w-[500px] text-[hsla(26,28%,95%,.9)] bg-[#141612] select-none">
            <div class="z-[1000] flex items-center pt-8 pb-4 px-4">
                @if (ShowMenu || NavigationManager.Uri.Contains("post")) {
                    <span @onclick="@(() => NavigateToPage(""))" class="cursor-pointer text-sm">Jordy Schoolmeesters</span>
                } else {
                    <span @onclick="@(() => NavigateToPage(""))" class="cursor-pointer  text-sm">DSP, Sound, Music production</span>
                }
                <span class="grow"></span>
                <button class="text-sm" @onclick="@(() => ShowMenu = !ShowMenu)">@(ShowMenu ? "CLOSE (×)" : "MENU (=)")</button>
            </div>
        </div>

        <aside class="opacity-fade text-[hsla(26,28%,95%,.5)] bg-[#141612] wrapper max-w-[500px] mx-auto fixed inset-0 overflow-hidden z-[999] @(ShowMenu ? "" : "hidden")" style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px);">
        <nav class="flex absolute inset-0" style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px);">
            <div class="flex flex-col justify-end">
                <div></div>
                <ul class="p-4 flex flex-col items-start">
                    <li class="overflow-hidden">
                    <a aria-current="page" class="cursor-pointer flex text-6xl text-60 uppercase font-normal leading-[1.05]" style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px);">
                        <span @onclick="@(() => NavigateToPage(""))" class="text-slideup animation-delay-0 text-[hsla(26,28%,95%,.9)]">Index</span>
                    </a>
                    </li>
                    <li class="overflow-hidden">
                    <a class="flex text-6xl text-60 uppercase font-normal leading-[1.05]" style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px);">
                        <span class="text-slideup animation-delay-1 line-through">Blog</span>
                    </a>
                    </li>
                    <li class="overflow-hidden">
                    <a class="flex text-6xl text-60 uppercase font-normal leading-[1.05]" style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px);">
                        <span class="text-slideup animation-delay-2 line-through">Samples</span>
                    </a>
                    </li>
                    <li class="overflow-hidden">
                    <a class="flex text-6xl text-60 uppercase font-normal leading-[1.05]" style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px);">
                        <span class="text-slideup animation-delay-3 line-through">About</span>
                    </a>
                    </li>
                    <li class="overflow-hidden">
                    <a class="flex text-6xl text-60 uppercase font-normal leading-[1.05]" style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px);">
                        <span class="text-slideup animation-delay-4 line-through">Contact</span>
                    </a>
                    </li>
                </ul>
            <BlazorPortfolio.Components.Footer />
            </div>
            
        </nav>
        </aside>


        <div class="mt-[5.5rem]">
            @Body
        </div>

    </div>
</main>


@code {
    private bool ShowMenu { get; set; } = false;

    private void NavigateToPage(string page) {
        var uri = Path.Combine(NavigationManager.BaseUri, page);

        if (!(uri == NavigationManager.Uri))
            NavigationManager.NavigateTo(uri);
            
        ShowMenu = false;
    }
}